use super::rss::collections::{append, contains, dedup, entries, get_or, has, index_of, merge, reverse, values};

let appended = append([1, 2], [3, 4]);
assert(appended.length == 4);
assert(appended[0] == 1);
assert(appended[3] == 4);

assert(index_of(appended, 3) == 2);
assert(index_of(appended, 9) == -1);
assert(contains(appended, 2));
assert(contains(appended, 9) == false);

let reversed = reverse(appended);
assert(reversed.length == 4);
assert(reversed[0] == 4);
assert(reversed[3] == 1);

let unique = dedup([1, 1, 2, 3, 2, 3]);
assert(unique.length == 3);
assert(unique[0] == 1);
assert(unique[1] == 2);
assert(unique[2] == 3);

let left = {x: 1, y: 2};
let right = {y: 20, z: 3};
let merged = merge(left, right);
assert(has(merged, "x"));
assert(has(merged, "z"));
assert(has(merged, "missing") == false);
assert(get_or(merged, "y", 0) == 20);
assert(get_or(merged, "missing", 9) == 9);

let only_values = values(merged);
assert(only_values.length == 3);
assert(contains(only_values, 1));
assert(contains(only_values, 20));
assert(contains(only_values, 3));

let rows = entries(merged);
assert(rows.length == 3);
assert(rows[0].length == 2);
